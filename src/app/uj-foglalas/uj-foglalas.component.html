{{foglalas|json}}
{{currentDateObj|json}}
<div class="card" >
   
    <div class="card-body">
      <h5 class="card-title">Új Foglalás rögzítése</h5>
      
      <div *ngFor="let oszlop of oszlopok" class="input-group mb-3">
        <ng-container [ngSwitch]="oszlop.type">
            <ng-container *ngSwitchCase="'text'">
                <span class="input-group-text" [id]="oszlop.key">{{oszlop.text}}</span>
                <input [(ngModel)]="foglalas[oszlop.key]" [type]="oszlop.type" class="form-control">
            </ng-container>

            <ng-container *ngSwitchCase="'number'">
                <span class="input-group-text" [id]="oszlop.key">{{oszlop.text}}</span>
                <input [(ngModel)]="foglalas[oszlop.key]" [min]="oszlop.min" [max]="oszlop.max" [type]="oszlop.type" class="form-control">
            </ng-container>

            <ng-container *ngSwitchCase="'datepicker'" [(ngModel)]="foglalas[oszlop.key]">
            <input id="datepicker" class="form-control col-7" placeholder="{{dateWording}}" ngbDatepicker #date="ngbDatepicker" required pattern="[0-9]{4}[-][0-9]{2}[-][0-9]{2}" [(ngModel)]="currentDateObj" name="date" (dateSelect) = "onSelect($event)">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary picto-calender" (click)="date.toggle()" type="button"></button>
            </div>
            </ng-container>

            <!-- <ng-container *ngSwitchCase="'datepicker'" [(ngModel)]="foglalas[oszlop.key]">
                <ngb-datepicker (change)="changeDate($event)" #dp [(ngModel)]="model" (navigate)="date = $event.next" /> -->

<hr />

<!-- <button class="btn btn-sm btn-outline-primary me-2" (click)="model = today">Select Today</button>
<button class="btn btn-sm btn-outline-primary me-2" (click)="dp.navigateTo()">To current month</button>
<button class="btn btn-sm btn-outline-primary me-2" (click)="dp.navigateTo({ year: 2013, month: 2 })" -->
	<!-- >To Feb 2013</button -->
<!-- > -->

<hr />

<!-- <pre>Month: {{ date.month }}.{{ date.year }}</pre> -->
<!-- <pre>Model: {{ model | json }}</pre>
                <span class="input-group-text" [id]="oszlop.key">{{oszlop.text}}</span>
                <input [min]="oszlop.min" [max]="oszlop.max" [type]="oszlop.type" class="form-control"> -->
            </ng-container>
       

        
      </div>
      



      <button (click)="save()" type="button" class="btn btn-primary">Save</button>
    </div>
  </div>

  <ng-container *ngIf="error">
    <div class="alert alert-danger" role="alert">
       {{errorMessage}}
      </div>
</ng-container>
